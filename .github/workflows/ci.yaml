# This was generated by basicimg-actions-generator. Run regenerate.sh/ps1 to regenerate.
concurrency: build
jobs:
  alpine_3_17:
    name: ghcr.io/basicimg/alpine:3-17
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./alpine/3.17/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/alpine:3-17,ghcr.io/basicimg/alpine:3,ghcr.io/basicimg/alpine:stable,ghcr.io/basicimg/alpine:latest
  alpine_edge:
    name: ghcr.io/basicimg/alpine:edge
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./alpine/edge/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/alpine:edge
  arch:
    name: ghcr.io/basicimg/arch:latest
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./arch/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/arch:latest
  basicimg-actions-generator:
    name: ghcr.io/basicimg/basicimg-actions-generator:latest
    needs:
    - python3_bullseye
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./basicimg-actions-generator/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/basicimg-actions-generator:latest
  bootstrap:
    name: ghcr.io/basicimg/bootstrap:latest
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./bootstrap/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/bootstrap:latest
  debian_bookworm:
    name: ghcr.io/basicimg/debian:bookworm
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./debian/bookworm/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/debian:bookworm,ghcr.io/basicimg/debian:12,ghcr.io/basicimg/debian:testing
  debian_bullseye:
    name: ghcr.io/basicimg/debian:bullseye
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./debian/bullseye/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/debian:bullseye,ghcr.io/basicimg/debian:11,ghcr.io/basicimg/debian:stable,ghcr.io/basicimg/debian:latest
  debian_buster:
    name: ghcr.io/basicimg/debian:buster
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./debian/buster/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/debian:buster,ghcr.io/basicimg/debian:10,ghcr.io/basicimg/debian:oldstable
  debian_sid:
    name: ghcr.io/basicimg/debian:sid
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./debian/sid/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/debian:sid,ghcr.io/basicimg/debian:unstable
  nodejs_alpine-3_17:
    name: ghcr.io/basicimg/nodejs:alpine-3-17
    needs:
    - alpine_3_17
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/alpine-3.17/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:alpine-3-17,ghcr.io/basicimg/nodejs:alpine
  nodejs_alpine-edge:
    name: ghcr.io/basicimg/nodejs:alpine-edge
    needs:
    - alpine_edge
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/alpine-edge/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:alpine-edge
  nodejs_arch:
    name: ghcr.io/basicimg/nodejs:arch
    needs:
    - arch
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/arch/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:arch
  nodejs_bookworm:
    name: ghcr.io/basicimg/nodejs:bookworm
    needs:
    - debian_bookworm
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/bookworm/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:bookworm,ghcr.io/basicimg/nodejs:debian-testing
  nodejs_bullseye:
    name: ghcr.io/basicimg/nodejs:bullseye
    needs:
    - debian_bullseye
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/bullseye/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:bullseye,ghcr.io/basicimg/nodejs:debian-stable,ghcr.io/basicimg/nodejs:debian,ghcr.io/basicimg/nodejs:latest
  nodejs_buster:
    name: ghcr.io/basicimg/nodejs:buster
    needs:
    - debian_buster
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/buster/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:buster,ghcr.io/basicimg/nodejs:debian-oldstable
  nodejs_jammy:
    name: ghcr.io/basicimg/nodejs:jammy
    needs:
    - ubuntu_jammy
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/jammy/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:jammy,ghcr.io/basicimg/nodejs:ubuntu-lts,ghcr.io/basicimg/nodejs:ubuntu
  nodejs_kinetic:
    name: ghcr.io/basicimg/nodejs:kinetic
    needs:
    - ubuntu_kinetic
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/kinetic/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:kinetic,ghcr.io/basicimg/nodejs:ubuntu-interim
  nodejs_sid:
    name: ghcr.io/basicimg/nodejs:sid
    needs:
    - debian_sid
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/sid/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:sid,ghcr.io/basicimg/nodejs:debian-unstable
  nodejs_void-glibc:
    name: ghcr.io/basicimg/nodejs:void-glibc
    needs:
    - void_glibc
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/void-glibc/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:void-glibc,ghcr.io/basicimg/nodejs:void
  nodejs_void-musl:
    name: ghcr.io/basicimg/nodejs:void-musl
    needs:
    - void_musl
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./nodejs/void-musl/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/nodejs:void-musl
  python3_alpine-3_17:
    name: ghcr.io/basicimg/python3:alpine-3-17
    needs:
    - alpine_3_17
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/alpine-3.17/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:alpine-3-17,ghcr.io/basicimg/python3:alpine
  python3_alpine-edge:
    name: ghcr.io/basicimg/python3:alpine-edge
    needs:
    - alpine_edge
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/alpine-edge/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:alpine-edge
  python3_arch:
    name: ghcr.io/basicimg/python3:arch
    needs:
    - arch
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/arch/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:arch
  python3_bookworm:
    name: ghcr.io/basicimg/python3:bookworm
    needs:
    - debian_bookworm
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/bookworm/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:bookworm,ghcr.io/basicimg/python3:debian-testing
  python3_bullseye:
    name: ghcr.io/basicimg/python3:bullseye
    needs:
    - debian_bullseye
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/bullseye/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:bullseye,ghcr.io/basicimg/python3:debian-stable,ghcr.io/basicimg/python3:debian,ghcr.io/basicimg/python3:latest
  python3_buster:
    name: ghcr.io/basicimg/python3:buster
    needs:
    - debian_buster
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/buster/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:buster,ghcr.io/basicimg/python3:debian-oldstable
  python3_jammy:
    name: ghcr.io/basicimg/python3:jammy
    needs:
    - ubuntu_jammy
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/jammy/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:jammy,ghcr.io/basicimg/python3:ubuntu-lts,ghcr.io/basicimg/python3:ubuntu
  python3_kinetic:
    name: ghcr.io/basicimg/python3:kinetic
    needs:
    - ubuntu_kinetic
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/kinetic/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:kinetic,ghcr.io/basicimg/python3:ubuntu-interim
  python3_sid:
    name: ghcr.io/basicimg/python3:sid
    needs:
    - debian_sid
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/sid/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:sid,ghcr.io/basicimg/python3:debian-unstable
  python3_void-glibc:
    name: ghcr.io/basicimg/python3:void-glibc
    needs:
    - void_glibc
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/void-glibc/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:void-glibc,ghcr.io/basicimg/python3:void
  python3_void-musl:
    name: ghcr.io/basicimg/python3:void-musl
    needs:
    - void_musl
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./python3/void-musl/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/python3:void-musl
  redis_alpine-3_17:
    name: ghcr.io/basicimg/redis:alpine-3-17
    needs:
    - alpine_3_17
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/alpine-3.17/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:alpine-3-17,ghcr.io/basicimg/redis:alpine
  redis_alpine-edge:
    name: ghcr.io/basicimg/redis:alpine-edge
    needs:
    - alpine_edge
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/alpine-edge/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:alpine-edge
  redis_arch:
    name: ghcr.io/basicimg/redis:arch
    needs:
    - arch
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/arch/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:arch
  redis_bookworm:
    name: ghcr.io/basicimg/redis:bookworm
    needs:
    - debian_bookworm
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/bookworm/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:bookworm,ghcr.io/basicimg/redis:debian-testing
  redis_bullseye:
    name: ghcr.io/basicimg/redis:bullseye
    needs:
    - debian_bullseye
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/bullseye/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:bullseye,ghcr.io/basicimg/redis:debian-stable,ghcr.io/basicimg/redis:debian,ghcr.io/basicimg/redis:latest
  redis_buster:
    name: ghcr.io/basicimg/redis:buster
    needs:
    - debian_buster
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/buster/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:buster,ghcr.io/basicimg/redis:debian-oldstable
  redis_jammy:
    name: ghcr.io/basicimg/redis:jammy
    needs:
    - ubuntu_jammy
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/jammy/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:jammy,ghcr.io/basicimg/redis:ubuntu-lts,ghcr.io/basicimg/redis:ubuntu
  redis_kinetic:
    name: ghcr.io/basicimg/redis:kinetic
    needs:
    - ubuntu_kinetic
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/kinetic/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:kinetic,ghcr.io/basicimg/redis:ubuntu-interim
  redis_sid:
    name: ghcr.io/basicimg/redis:sid
    needs:
    - debian_sid
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/sid/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:sid,ghcr.io/basicimg/redis:debian-unstable
  redis_void-glibc:
    name: ghcr.io/basicimg/redis:void-glibc
    needs:
    - void_glibc
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/void-glibc/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:void-glibc,ghcr.io/basicimg/redis:void
  redis_void-musl:
    name: ghcr.io/basicimg/redis:void-musl
    needs:
    - void_musl
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./redis/void-musl/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/redis:void-musl
  ubuntu_jammy:
    name: ghcr.io/basicimg/ubuntu:jammy
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./ubuntu/jammy/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/ubuntu:jammy,ghcr.io/basicimg/ubuntu:22-04,ghcr.io/basicimg/ubuntu:lts,ghcr.io/basicimg/ubuntu:latest
  ubuntu_kinetic:
    name: ghcr.io/basicimg/ubuntu:kinetic
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./ubuntu/kinetic/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/ubuntu:kinetic,ghcr.io/basicimg/ubuntu:22-10,ghcr.io/basicimg/ubuntu:interim
  void_glibc:
    name: ghcr.io/basicimg/void:glibc
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./void/glibc/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/void:glibc,ghcr.io/basicimg/void:latest
  void_musl:
    name: ghcr.io/basicimg/void:musl
    needs:
    - bootstrap
    permissions:
      contents: read
      packages: write
    runs-on: ubuntu-22.04
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v2
    - name: Login to container registry
      uses: docker/login-action@v2
      with:
        password: ${{ secrets.GITHUB_TOKEN }}
        registry: ghcr.io
        username: ${{ github.actor }}
    - name: Build and push image
      uses: docker/build-push-action@v4
      with:
        cache-from: type=gha
        cache-to: type=gha,mode=max
        file: ./void/musl/Dockerfile
        labels: org.opencontainers.image.source=https://github.com/basicimg/images
        push: true
        tags: ghcr.io/basicimg/void:musl
name: build
'on':
  push:
    branches:
    - main
  schedule:
  - cron: 5 4 * * 1
